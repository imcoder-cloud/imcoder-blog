{"version":3,"sources":["webpack:///./src/api/categoryApi.js","webpack:///./src/views/components/category-tree.vue?a0af","webpack:///src/views/components/category-tree.vue","webpack:///./src/views/components/category-tree.vue?a2d4","webpack:///./src/views/components/category-tree.vue"],"names":["baseUrl","categoryApi","concreteTree","parentCategory","categories","forEach","category","key","parentId","children","push","id","title","name","isLeaf","findAll","params","request","url","method","page","get","categoryId","tree","create","data","update","delete","topCategoryNode","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","props","on","handleNodeClick","staticRenderFns","created","getCategoryTree","label","methods","$emit","component"],"mappings":"gKAEMA,EAAU,sBAEVC,EAAc,GAuDpB,SAASC,EAAaC,EAAgBC,GACpCA,EAAWC,SAAQ,SAAAC,GACbH,EAAeI,MAAQD,EAASE,WAC7BL,EAAeM,WAClBN,EAAeM,SAAW,IAE5BN,EAAeM,SAASC,KAAK,CAC3BH,IAAKD,EAASK,GACdC,MAAON,EAASO,KAChBC,QAAQ,QAKVX,EAAeM,SACjBN,EAAeM,SAASJ,SAAQ,SAAAC,GAAQ,OAAIJ,EAAaI,EAAUF,MAEnED,EAAeW,QAAS,EAtE5Bb,EAAYc,QAAU,SAACC,GACrB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKlB,GACRgB,OAAQA,EACRG,OAAQ,SAIZlB,EAAYmB,KAAO,SAACJ,GAClB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKlB,EAAL,SACHgB,OAAQA,EACRG,OAAQ,SAIZlB,EAAYoB,IAAM,SAAAC,GAChB,OAAOL,eAAQ,CACbC,IAAK,GAAF,OAAKlB,EAAL,YAAgBsB,GACnBH,OAAQ,SAIZlB,EAAYsB,KAAO,WACjB,OAAON,eAAQ,CACbC,IAAK,GAAF,OAAKlB,EAAL,SACHmB,OAAQ,SAIZlB,EAAYuB,OAAS,SAAAlB,GACnB,OAAOW,eAAQ,CACbC,IAAK,GAAF,OAAKlB,EAAL,SACHyB,KAAMnB,EACNa,OAAQ,UAIZlB,EAAYyB,OAAS,SAACpB,GACpB,OAAOW,eAAQ,CACbC,IAAK,GAAF,OAAKlB,EAAL,WACHyB,KAAMnB,EACNa,OAAQ,SAIZlB,EAAY0B,OAAS,SAAAL,GACnB,OAAOL,eAAQ,CACbC,IAAK,GAAF,OAAKlB,EAAL,YAAgBsB,GACnBH,OAAQ,YAyBZlB,EAAYC,aAAe,SAAAE,GACzB,IAAMwB,EAAkB,CACtBrB,IAAK,EACLK,MAAO,MACPH,SAAU,IAGZ,OADAP,EAAa0B,EAAiBxB,GACvBwB,EAAgBnB,UAGVR,U,2CC1Ff,IAAI4B,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,IAAI,eAAeC,MAAM,CAAC,qBAAoB,EAAK,KAAOP,EAAI1B,WAAW,MAAQ0B,EAAIQ,OAAOC,GAAG,CAAC,aAAaT,EAAIU,oBAC3NC,EAAkB,G,YCWtB,GACEC,QADF,WAEIX,KAAKY,mBAEPlB,KAJF,WAKI,MAAO,CACLrB,WAAY,GACZkC,MAAO,CACL7B,SAAU,WACVmC,MAAO,UAIbC,QAAS,CACPF,gBADJ,WACA,WACM1C,EAAN,8BACQ,EAAR,kBACQ,EAAR,4CAGIuC,gBAPJ,SAOA,OACMT,KAAKe,MAAM,aAAcrB,MCjC2a,I,YCOtcsB,EAAY,eACd,EACAlB,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAM,E","file":"static/js/chunk-215a313a.73b530c6.js","sourcesContent":["import request from '@/utils/request'\r\n\r\nconst baseUrl = '/api/admin/category'\r\n\r\nconst categoryApi = {}\r\n\r\ncategoryApi.findAll = (params) => {\r\n  return request({\r\n    url: `${baseUrl}`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ncategoryApi.page = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/page`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ncategoryApi.get = categoryId => {\r\n  return request({\r\n    url: `${baseUrl}/${categoryId}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ncategoryApi.tree = () => {\r\n  return request({\r\n    url: `${baseUrl}/tree`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ncategoryApi.create = category => {\r\n  return request({\r\n    url: `${baseUrl}/save`,\r\n    data: category,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\ncategoryApi.update = (category) => {\r\n  return request({\r\n    url: `${baseUrl}/update`,\r\n    data: category,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\ncategoryApi.delete = categoryId => {\r\n  return request({\r\n    url: `${baseUrl}/${categoryId}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nfunction concreteTree(parentCategory, categories) {\r\n  categories.forEach(category => {\r\n    if (parentCategory.key === category.parentId) {\r\n      if (!parentCategory.children) {\r\n        parentCategory.children = []\r\n      }\r\n      parentCategory.children.push({\r\n        key: category.id,\r\n        title: category.name,\r\n        isLeaf: false\r\n      })\r\n    }\r\n  })\r\n\r\n  if (parentCategory.children) {\r\n    parentCategory.children.forEach(category => concreteTree(category, categories))\r\n  } else {\r\n    parentCategory.isLeaf = true\r\n  }\r\n}\r\n\r\ncategoryApi.concreteTree = categories => {\r\n  const topCategoryNode = {\r\n    key: 0,\r\n    title: 'top',\r\n    children: []\r\n  }\r\n  concreteTree(topCategoryNode, categories)\r\n  return topCategoryNode.children\r\n}\r\n\r\nexport default categoryApi\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tree',{ref:\"categoryTree\",attrs:{\"highlight-current\":true,\"data\":_vm.categories,\"props\":_vm.props},on:{\"node-click\":_vm.handleNodeClick}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-tree\r\n    ref=\"categoryTree\"\r\n    :highlight-current=\"true\"\r\n    :data=\"categories\"\r\n    :props=\"props\"\r\n    @node-click=\"handleNodeClick\"\r\n  ></el-tree>\r\n</template>\r\n\r\n<script>\r\nimport categoryApi from \"@/api/categoryApi\";\r\nexport default {\r\n  created() {\r\n    this.getCategoryTree();\r\n  },\r\n  data() {\r\n    return {\r\n      categories: [],\r\n      props: {\r\n        children: \"children\",\r\n        label: \"name\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    getCategoryTree() {\r\n      categoryApi.tree().then(res => {\r\n        this.categories = res.data;\r\n        this.categories.unshift({ id: null, name: \"全部\" });\r\n      });\r\n    },\r\n    handleNodeClick(data, node, nodeComponent) {\r\n      this.$emit(\"node-click\", data);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./category-tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./category-tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./category-tree.vue?vue&type=template&id=69e130df&\"\nimport script from \"./category-tree.vue?vue&type=script&lang=js&\"\nexport * from \"./category-tree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}