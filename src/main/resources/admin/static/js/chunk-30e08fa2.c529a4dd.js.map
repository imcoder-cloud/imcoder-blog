{"version":3,"sources":["webpack:///./src/views/extend/form.vue?0cf8","webpack:///./src/components/pagination.vue?ac11","webpack:///src/components/pagination.vue","webpack:///./src/components/pagination.vue?a6cb","webpack:///./src/components/pagination.vue","webpack:///./src/views/extend/form.vue?4c1f","webpack:///./src/api/formApi.js","webpack:///./src/api/formFieldApi.js","webpack:///src/views/extend/form.vue","webpack:///./src/views/extend/form.vue?1dc5","webpack:///./src/views/extend/form.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","pageNum","pageSize","optionsArr","join","total","on","handleSizeChange","handleCurrentChange","staticRenderFns","props","default","data","methods","$emit","val","component","staticClass","slot","_v","staticStyle","$event","resetForm","showAddForm","_e","directives","name","rawName","value","expression","forms","scopedSlots","_u","key","fn","scope","viewData","row","showField","edit","del","editParams","model","callback","$$v","$set","id","saveFormField","showFormField","tabClick","fieldTab","fields","tableFieldParams","delField","saveFiled","showViewData","formData","_l","field","type","scale","down","_s","delFormData","queryParams","formDataTotal","baseUrl","formApi","params","request","url","method","formId","form","formFieldApi","formFieldId","formField","components","addPermission","editPermission","delPermission","tableLoading","selectedTable","created","store","getForms","typeChange","tableName","$message","warning","getAllField","getAllData","size"],"mappings":"2IAAA,yBAAkrB,EAAG,G,kCCArrB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAAgB,CAACE,MAAM,CAAC,YAAa,EAAM,eAAeN,EAAIO,QAAQ,aAAa,CAAC,EAAE,GAAI,GAAI,GAAI,GAAI,IAAI,YAAYP,EAAIQ,SAAS,OAASR,EAAIS,WAAWC,KAAK,KAAK,MAAQV,EAAIW,OAAOC,GAAG,CAAC,cAAcZ,EAAIa,iBAAiB,iBAAiBb,EAAIc,wBACnVC,EAAkB,GCatB,GACEC,MAAO,CACLR,SAAU,CACRS,QAAS,IAEXV,QAAS,CACPU,QAAS,GAEXN,MAAO,CACLM,QAAS,IAGbC,KAZF,WAaI,MAAO,CACLT,WAAY,CAAC,QAAS,QAAS,OAAQ,QAAS,OAAQ,YAG5DU,QAAS,CACPN,iBADJ,SACA,GACMZ,KAAKmB,MAAM,aAAcC,IAE3BP,oBAJJ,SAIA,GACMb,KAAKmB,MAAM,gBAAiBC,MCpCsZ,I,YCOpbC,EAAY,eACd,EACAvB,EACAgB,GACA,EACA,KACA,KACA,MAIa,OAAAO,E,kDClBf,IAAIvB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACA,EAAG,MAAM,CAACmB,YAAY,WAAWjB,MAAM,CAAC,KAAO,UAAUkB,KAAK,UAAU,CAACpB,EAAG,OAAO,CAACJ,EAAIyB,GAAG,UAAWzB,EAAiB,cAAEI,EAAG,YAAY,CAACsB,YAAY,CAAC,MAAQ,QAAQ,QAAU,SAASpB,MAAM,CAAC,KAAO,QAAQM,GAAG,CAAC,MAAQ,SAASe,GAAQ3B,EAAI4B,YAAY5B,EAAI6B,aAAc,KAAS,CAAC7B,EAAIyB,GAAG,QAAQzB,EAAI8B,MAAM,GAAG1B,EAAG,WAAW,CAAC2B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOlC,EAAgB,aAAEmC,WAAW,iBAAiBT,YAAY,CAAC,gBAAgB,QAAQpB,MAAM,CAAC,KAAON,EAAIoC,MAAM,6BAA6B,qBAAqB,uBAAuB,UAAU,0BAA0B,oBAAoB,CAAChC,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQ,SAASF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,MAAM+B,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQM,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO3B,EAAI0C,SAASD,EAAME,QAAQ,CAAC3C,EAAIyB,GAAG,iBAAiBrB,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,MAAM+B,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQM,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO3B,EAAI4C,UAAUH,EAAME,QAAQ,CAAC3C,EAAIyB,GAAG,iBAAiBrB,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,MAAM+B,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQM,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO3B,EAAI6C,KAAKJ,EAAME,QAAQ,CAAC3C,EAAIyB,GAAG,QAAQrB,EAAG,gBAAgB,CAACsB,YAAY,CAAC,cAAc,QAAQpB,MAAM,CAAC,MAAQ,qBAAqB,iBAAmB,WAAWM,GAAG,CAAC,UAAY,SAASe,GAAQ,OAAO3B,EAAI8C,IAAIL,EAAME,QAAQ,CAACvC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,YAAY,KAAO,QAAQkB,KAAK,aAAa,CAACxB,EAAIyB,GAAG,SAAS,WAAW,IAAI,GAAGrB,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,QAAQ,QAAUN,EAAI6B,aAAajB,GAAG,CAAC,iBAAiB,SAASe,GAAQ3B,EAAI6B,YAAYF,KAAU,CAACvB,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAI+C,WAAW,iBAAiB,QAAQ,cAAc,SAAS,CAAC3C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,MAAM,YAAc,eAAe0C,MAAM,CAACd,MAAOlC,EAAI+C,WAAe,KAAEE,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAI+C,WAAY,OAAQG,IAAMf,WAAW,sBAAsB,GAAG/B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,SAAgC,MAArBN,EAAI+C,WAAWK,GAAW,aAAe,MAAM,YAAc,yBAAyBJ,MAAM,CAACd,MAAOlC,EAAI+C,WAAoB,UAAEE,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAI+C,WAAY,YAAaG,IAAMf,WAAW,2BAA2B,IAAI,GAAG/B,EAAG,MAAM,CAACmB,YAAY,gBAAgBjB,MAAM,CAAC,KAAO,UAAUkB,KAAK,UAAU,CAACpB,EAAG,YAAY,CAACQ,GAAG,CAAC,MAAQ,SAASe,GAAQ3B,EAAI6B,aAAc,EAAM7B,EAAI4B,eAAe,CAAC5B,EAAIyB,GAAG,QAAQrB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWM,GAAG,CAAC,MAAQZ,EAAIqD,gBAAgB,CAACrD,EAAIyB,GAAG,SAAS,IAAI,GAAGrB,EAAG,YAAY,CAACmB,YAAY,cAAcjB,MAAM,CAAC,MAAQ,QAAQ,QAAUN,EAAIsD,eAAe1C,GAAG,CAAC,iBAAiB,SAASe,GAAQ3B,EAAIsD,cAAc3B,KAAU,CAACvB,EAAG,UAAU,CAACQ,GAAG,CAAC,YAAYZ,EAAIuD,UAAUP,MAAM,CAACd,MAAOlC,EAAY,SAAEiD,SAAS,SAAUC,GAAMlD,EAAIwD,SAASN,GAAKf,WAAW,aAAa,CAAC/B,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,CAACF,EAAG,WAAW,CAACsB,YAAY,CAAC,gBAAgB,QAAQpB,MAAM,CAAC,KAAON,EAAIyD,OAAO,6BAA6B,qBAAqB,uBAAuB,UAAU,0BAA0B,oBAAoB,CAACrD,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,MAAM,wBAAwB,MAAMF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAO+B,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACrC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQM,GAAG,CAAC,MAAQ,SAASe,GAAQ3B,EAAI0D,iBAAmBjB,EAAME,IAAI3C,EAAIwD,SAAW,eAAe,CAACxD,EAAIyB,GAAG,QAAQrB,EAAG,gBAAgB,CAACsB,YAAY,CAAC,cAAc,QAAQpB,MAAM,CAAC,MAAQ,qBAAqB,iBAAmB,WAAWM,GAAG,CAAC,UAAY,SAASe,GAAQ,OAAO3B,EAAI2D,SAASlB,EAAME,QAAQ,CAACvC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,YAAY,KAAO,QAAQkB,KAAK,aAAa,CAACxB,EAAIyB,GAAG,SAAS,WAAW,IAAI,GAAGrB,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAI0D,iBAAiB,iBAAiB,QAAQ,cAAc,SAAS,CAACtD,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,MAAM,YAAc,eAAe0C,MAAM,CAACd,MAAOlC,EAAI0D,iBAAqB,KAAET,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAI0D,iBAAkB,OAAQR,IAAMf,WAAW,4BAA4B,GAAG/B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,SAAsC,MAA3BN,EAAI0D,iBAAiBN,GAAW,aAAe,MAAM,YAAc,uBAAuBJ,MAAM,CAACd,MAAOlC,EAAI0D,iBAAsB,MAAET,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAI0D,iBAAkB,QAASR,IAAMf,WAAW,6BAA6B,GAAG/B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,SAAsC,MAA3BN,EAAI0D,iBAAiBN,GAAW,YAAc,QAAQJ,MAAM,CAACd,MAAOlC,EAAI0D,iBAAqB,KAAET,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAI0D,iBAAkB,OAAQR,IAAMf,WAAW,0BAA0B,CAAC/B,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,WAAWF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,cAAcF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,YAAYF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,UAAUF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,WAAWF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,cAAcF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,WAAWF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,WAAW,IAAI,GAAGF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,MAAM,SAAsC,MAA3BN,EAAI0D,iBAAiBN,GAAW,YAAc,QAAQJ,MAAM,CAACd,MAAOlC,EAAI0D,iBAAqB,KAAET,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAI0D,iBAAkB,OAAQR,IAAMf,WAAW,4BAA4B,GAAG/B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,aAAe,MAAM,YAAc,mBAAmB0C,MAAM,CAACd,MAAOlC,EAAI0D,iBAAsB,MAAET,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAI0D,iBAAkB,QAASR,IAAMf,WAAW,6BAA6B,GAAG/B,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWM,GAAG,CAAC,MAAQZ,EAAI4D,YAAY,CAAC5D,EAAIyB,GAAG,QAAQrB,EAAG,YAAY,CAACJ,EAAIyB,GAAG,SAAS,IAAI,IAAI,IAAI,IAAI,GAAGrB,EAAG,YAAY,CAACmB,YAAY,iBAAiBjB,MAAM,CAAC,MAAQ,OAAO,MAAQ,QAAQ,QAAUN,EAAI6D,cAAcjD,GAAG,CAAC,iBAAiB,SAASe,GAAQ3B,EAAI6D,aAAalC,KAAU,CAACvB,EAAG,WAAW,CAACsB,YAAY,CAAC,gBAAgB,QAAQpB,MAAM,CAAC,KAAON,EAAI8D,SAAS,6BAA6B,qBAAqB,uBAAuB,UAAU,0BAA0B,oBAAoB,CAAC1D,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,QAAQN,EAAI+D,GAAI/D,EAAU,QAAE,SAASgE,GAAO,OAAO5D,EAAG,kBAAkB,CAACmC,IAAIyB,EAAMA,MAAM1D,MAAM,CAAC,MAAQ0D,EAAMhC,KAAK,wBAAwB,IAAIK,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAc,SAAZuB,EAAMC,MAAiBxB,EAAME,IAAIqB,EAAMA,OAAQ5D,EAAG,WAAW,CAACsB,YAAY,CAAC,OAAS,QAAQpB,MAAM,CAAC,IAAMmC,EAAME,IAAIqB,EAAMA,OAAO,IAAMhE,EAAIkE,MAAMlE,EAAImE,KAAK,mBAAmB,CAAC1B,EAAME,IAAIqB,EAAMA,WAAwB,QAAZA,EAAMC,MAAgBxB,EAAME,IAAIqB,EAAMA,OAAQ5D,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,UAAU,KAAOmC,EAAME,IAAIqB,EAAMA,OAAO,OAAS,SAAS,WAAY,IAAQ,CAAChE,EAAIyB,GAAG,QAAQrB,EAAG,OAAO,CAACJ,EAAIyB,GAAGzB,EAAIoE,GAAG3B,EAAME,IAAIqB,EAAMA,eAAe,MAAK,QAAU5D,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAO+B,YAAYrC,EAAIsC,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAEzC,EAAkB,eAAEI,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,CAACN,EAAIyB,GAAG,QAAQzB,EAAI8B,KAAK1B,EAAG,gBAAgB,CAACsB,YAAY,CAAC,cAAc,QAAQpB,MAAM,CAAC,MAAQ,qBAAqB,iBAAmB,WAAWM,GAAG,CAAC,UAAY,SAASe,GAAQ,OAAO3B,EAAIqE,YAAY5B,EAAME,QAAQ,CAAE3C,EAAiB,cAAEI,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,YAAY,KAAO,QAAQkB,KAAK,aAAa,CAACxB,EAAIyB,GAAG,QAAQzB,EAAI8B,MAAM,WAAW,GAAG1B,EAAG,aAAa,CAACE,MAAM,CAAC,QAAUN,EAAIsE,YAAY/D,QAAQ,SAAWP,EAAIsE,YAAY9D,SAAS,MAAQR,EAAIuE,eAAe3D,GAAG,CAAC,WAAaZ,EAAIa,iBAAiB,cAAgBb,EAAIc,wBAAwB,IAAI,IACp4QC,EAAkB,G,8CCChByD,EAAU,kBAEVC,EAAU,CAEhBA,QAAkB,SAACC,GACjB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,GACRE,OAAQA,EACRG,OAAQ,SAIZJ,KAAe,SAACC,GACd,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,SACHE,OAAQA,EACRG,OAAQ,SAIZJ,IAAc,SAAAK,GACZ,OAAOH,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,YAAgBM,GACnBD,OAAQ,SAIZJ,OAAiB,SAACC,GAChB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,WACHtD,KAAMwD,EACNG,OAAQ,SAIZJ,OAAiB,SAAAM,GACf,OAAOJ,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,SACHtD,KAAM6D,EACNF,OAAQ,UAIZJ,OAAiB,SAAAK,GACf,OAAOH,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,YAAgBM,GACnBD,OAAQ,YAIZJ,YAAsB,SAACC,GACrB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,SACHE,OAAQA,EACRG,OAAQ,UAIGJ,IC1DTD,EAAU,uBAEVQ,EAAe,CAErBA,QAAuB,SAACN,GACtB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,GACRE,OAAQA,EACRG,OAAQ,SAIZG,KAAoB,SAACN,GACnB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,SACHE,OAAQA,EACRG,OAAQ,SAIZG,IAAmB,SAAAC,GACjB,OAAON,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,YAAgBS,GACnBJ,OAAQ,SAIZG,OAAsB,SAACN,GACrB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,GACRtD,KAAMwD,EACNG,OAAQ,SAIZG,OAAsB,SAAAE,GACpB,OAAOP,eAAQ,CACbC,IAAK,GAAF,OAAKJ,GACRtD,KAAMgE,EACNL,OAAQ,UAIZG,OAAsB,SAAAC,GACpB,OAAON,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,YAAgBS,GACnBJ,OAAQ,aAIGG,I,YCwKf,GACEG,WAAY,CAAd,mBACEjE,KAFF,WAGI,MAAO,CACLkE,eAAe,EACfC,gBAAgB,EAChBC,eAAe,EACfzD,aAAa,EACbkB,WAAY,GACZwC,cAAc,EACdnD,MAAO,GACPsB,iBAAkB,CAAxB,uBACMF,SAAU,aACVgC,cAAe,GACflC,eAAe,EACfO,cAAc,EACdC,SAAU,GACVQ,YAAa,CACX/D,QAAS,EACTC,SAAU,GAEZ+D,cAAe,EACfd,OAAQ,KAGZgC,QAzBF,WA0BIxF,KAAKmF,cAAgBM,EAAzB,kDACIzF,KAAKoF,eAAiBK,EAA1B,kDACIzF,KAAKqF,cAAgBI,EAAzB,kDACIzF,KAAK0F,YAEPxE,QAAS,CACPwE,SADJ,WACA,WACM1F,KAAKsF,cAAe,EACpB,EAAN,4BACQ,EAAR,aACQ,EAAR,oBAGIK,WARJ,SAQA,KACIvC,cATJ,WASA,WACM,IAAKpD,KAAK8C,WAAWf,OAAS/B,KAAK8C,WAAW8C,UAE5C,OADA5F,KAAK6F,SAASC,QAAQ,gBACf,EAEL9F,KAAK8C,WAAWK,GAClB,EAAR,0CACU,EAAV,yBACU,EAAV,YACU,EAAV,cAGQ,EAAR,0CACU,EAAV,yBACU,EAAV,YACU,EAAV,eAIIP,KA5BJ,SA4BA,GACM5C,KAAK4B,aAAc,EACnB5B,KAAK8C,WAAaJ,GAEpBG,IAhCJ,SAgCA,cACM,EAAN,+BACQ,EAAR,yBACQ,EAAR,eAGIF,UAtCJ,SAsCA,GACM3C,KAAKuF,cAAgB7C,EACrB1C,KAAKqD,eAAgB,EACrBrD,KAAK+F,YAAYrD,EAAIkD,YAEvBnD,SA3CJ,SA2CA,GACMzC,KAAKuF,cAAgB7C,EACrB1C,KAAK+F,YAAYrD,EAAIkD,WACrB5F,KAAKgG,WAAWtD,EAAIkD,YAEtBG,YAhDJ,SAgDA,cACM,EAAN,yCACQ,EAAR,kBAGIC,WArDJ,SAqDA,cACMhG,KAAKqE,YAAYuB,UAAYA,EAC7B,EAAN,gDACQ,EAAR,gBACQ,EAAR,wBACQ,EAAR,+BAGItC,SA7DJ,SA6DA,GACMtD,KAAKyD,iBAAmB,CACtBwC,KAAM,IACNjC,KAAM,QACN4B,UAAW5F,KAAKuF,cAAcK,YAGlCjC,UApEJ,WAoEA,WACA,+BAEM,OADA3D,KAAKyD,iBAAiBmC,UAAYA,EAC7B5F,KAAKyD,iBAAiB1B,KAItB/B,KAAKyD,iBAAiBM,WAIvB/D,KAAKyD,iBAAiBN,GACxB,EAAR,gDACU,EAAV,eACU,EAAV,yBAGQ,EAAR,gDACU,EAAV,eACU,EAAV,2BAXQnD,KAAK6F,SAASC,QAAQ,UACf,IALP9F,KAAK6F,SAASC,QAAQ,UACf,IAkBXpC,SA3FJ,SA2FA,cACM,EAAN,+BACQ,EAAR,yBACQ,EAAR,0BAGI9C,iBAjGJ,SAiGA,GACMZ,KAAKqE,YAAY9D,SAAWa,EAC5BpB,KAAKgG,WAAWhG,KAAKuF,cAAcK,YAErC/E,oBArGJ,SAqGA,GACMb,KAAKqE,YAAY/D,QAAUc,EAC3BpB,KAAKgG,WAAWhG,KAAKuF,cAAcK,YAErCxB,YAzGJ,aA0GIzC,UA1GJ,WA2GM3B,KAAK4B,aAAc,EACnB5B,KAAK8C,WAAa,MCvWya,I,wBCQ7bzB,EAAY,eACd,EACAvB,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAO,E","file":"static/js/chunk-30e08fa2.c529a4dd.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-pagination',{attrs:{\"background\":false,\"current-page\":_vm.pageNum,\"page-sizes\":[5,10, 20, 30, 40, 50],\"page-size\":_vm.pageSize,\"layout\":_vm.optionsArr.join(','),\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-pagination\r\n    :background=\"false\"\r\n    @size-change=\"handleSizeChange\"\r\n    @current-change=\"handleCurrentChange\"\r\n    :current-page=\"pageNum\"\r\n    :page-sizes=\"[5,10, 20, 30, 40, 50]\"\r\n    :page-size=\"pageSize\"\r\n    :layout=\"optionsArr.join(',')\"\r\n    :total=\"total\"\r\n  ></el-pagination>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    pageSize: {\r\n      default: 10\r\n    },\r\n    pageNum: {\r\n      default: 1\r\n    },\r\n    total: {\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      optionsArr: [\"total\", \"sizes\", \"prev\", \"pager\", \"next\", \"jumper\"]\r\n    };\r\n  },\r\n  methods: {\r\n    handleSizeChange(val) {\r\n      this.$emit(\"sizeChange\", val);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.$emit(\"currentChange\", val);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pagination.vue?vue&type=template&id=7875dbaa&\"\nimport script from \"./pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"所有表单\")]),(_vm.addPermission)?_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.resetForm();_vm.showAddForm = true;}}},[_vm._v(\"新增\")]):_vm._e()],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.forms,\"element-loading-background\":\"rgba(0, 0, 0, 0.3)\",\"element-loading-text\":\"数据正在加载中\",\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"表单名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"tableName\",\"label\":\"表名称\"}}),_c('el-table-column',{attrs:{\"label\":\"数据\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.viewData(scope.row)}}},[_vm._v(\"查看数据\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"字段\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showField(scope.row)}}},[_vm._v(\"编辑字段\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\"修改\")]),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"title\":\"确定删除本条数据吗？删除后不可恢复。\",\"cancelButtonType\":\"default\"},on:{\"onConfirm\":function($event){return _vm.del(scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑表单\",\"width\":\"500px\",\"visible\":_vm.showAddForm},on:{\"update:visible\":function($event){_vm.showAddForm=$event}}},[_c('el-form',{attrs:{\"model\":_vm.editParams,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"表单名称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"名称：建议2-4字以内\"},model:{value:(_vm.editParams.name),callback:function ($$v) {_vm.$set(_vm.editParams, \"name\", $$v)},expression:\"editParams.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"表名称\"}},[_c('el-input',{attrs:{\"disabled\":_vm.editParams.id != null,\"autocomplete\":\"off\",\"placeholder\":\"以字母开头，下划线分隔，例：message\"},model:{value:(_vm.editParams.tableName),callback:function ($$v) {_vm.$set(_vm.editParams, \"tableName\", $$v)},expression:\"editParams.tableName\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showAddForm = false;_vm.resetForm()}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveFormField}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{staticClass:\"fieldDialog\",attrs:{\"width\":\"800px\",\"visible\":_vm.showFormField},on:{\"update:visible\":function($event){_vm.showFormField=$event}}},[_c('el-tabs',{on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.fieldTab),callback:function ($$v) {_vm.fieldTab=$$v},expression:\"fieldTab\"}},[_c('el-tab-pane',{attrs:{\"label\":\"字段列表\",\"name\":\"fieldTable\"}},[_c('el-table',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.fields,\"element-loading-background\":\"rgba(0, 0, 0, 0.3)\",\"element-loading-text\":\"数据正在加载中\",\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"field\",\"label\":\"字段\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"长度\"}}),_c('el-table-column',{attrs:{\"prop\":\"value\",\"label\":\"字段值\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.tableFieldParams = scope.row;_vm.fieldTab = 'fieldEdit'}}},[_vm._v(\"修改\")]),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"title\":\"确定删除本条数据吗？删除后不可恢复。\",\"cancelButtonType\":\"default\"},on:{\"onConfirm\":function($event){return _vm.delField(scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"字段编辑\",\"name\":\"fieldEdit\"}},[_c('el-form',{attrs:{\"model\":_vm.tableFieldParams,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"名称：建议2-4字以内\"},model:{value:(_vm.tableFieldParams.name),callback:function ($$v) {_vm.$set(_vm.tableFieldParams, \"name\", $$v)},expression:\"tableFieldParams.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字段\"}},[_c('el-input',{attrs:{\"disabled\":_vm.tableFieldParams.id != null,\"autocomplete\":\"off\",\"placeholder\":\"以字母开头，下划线分隔，例：price\"},model:{value:(_vm.tableFieldParams.field),callback:function ($$v) {_vm.$set(_vm.tableFieldParams, \"field\", $$v)},expression:\"tableFieldParams.field\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"disabled\":_vm.tableFieldParams.id != null,\"placeholder\":\"请选类型\"},model:{value:(_vm.tableFieldParams.type),callback:function ($$v) {_vm.$set(_vm.tableFieldParams, \"type\", $$v)},expression:\"tableFieldParams.type\"}},[_c('el-option',{attrs:{\"label\":\"单行文本\",\"value\":\"input\"}}),_c('el-option',{attrs:{\"label\":\"多行文本\",\"value\":\"textarea\"}}),_c('el-option',{attrs:{\"label\":\"下拉列表\",\"value\":\"select\"}}),_c('el-option',{attrs:{\"label\":\"日期选择\",\"value\":\"date\"}}),_c('el-option',{attrs:{\"label\":\"单选按钮\",\"value\":\"radio\"}}),_c('el-option',{attrs:{\"label\":\"多选按钮\",\"value\":\"checkbox\"}}),_c('el-option',{attrs:{\"label\":\"图片上传\",\"value\":\"image\"}}),_c('el-option',{attrs:{\"label\":\"附件上传\",\"value\":\"file\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"长度\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"disabled\":_vm.tableFieldParams.id != null,\"placeholder\":\"字段长度\"},model:{value:(_vm.tableFieldParams.size),callback:function ($$v) {_vm.$set(_vm.tableFieldParams, \"size\", $$v)},expression:\"tableFieldParams.size\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字段值\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"只在单选、多选、下拉选择时有效\"},model:{value:(_vm.tableFieldParams.value),callback:function ($$v) {_vm.$set(_vm.tableFieldParams, \"value\", $$v)},expression:\"tableFieldParams.value\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveFiled}},[_vm._v(\"保存\")]),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)],1)],1),_c('el-dialog',{staticClass:\"formDataDialog\",attrs:{\"title\":\"表单数据\",\"width\":\"800px\",\"visible\":_vm.showViewData},on:{\"update:visible\":function($event){_vm.showViewData=$event}}},[_c('el-table',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.formData,\"element-loading-background\":\"rgba(0, 0, 0, 0.3)\",\"element-loading-text\":\"数据正在加载中\",\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"60\"}}),_vm._l((_vm.fields),function(field){return _c('el-table-column',{key:field.field,attrs:{\"label\":field.name,\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(field.type=='image' && scope.row[field.field])?_c('el-image',{staticStyle:{\"height\":\"80px\"},attrs:{\"src\":scope.row[field.field],\"fit\":_vm.scale-_vm.down,\"preview-src-list\":[scope.row[field.field]]}}):(field.type=='file' && scope.row[field.field])?_c('el-link',{attrs:{\"type\":\"primary\",\"href\":scope.row[field.field],\"target\":\"_blank\",\"underline\":false}},[_vm._v(\"查看\")]):_c('span',[_vm._v(_vm._s(scope.row[field.field]))])]}}],null,true)})}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.editPermission)?_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"修改\")]):_vm._e(),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"title\":\"确定删除本条数据吗？删除后不可恢复。\",\"cancelButtonType\":\"default\"},on:{\"onConfirm\":function($event){return _vm.delFormData(scope.row)}}},[(_vm.delPermission)?_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\"},slot:\"reference\"},[_vm._v(\"删除\")]):_vm._e()],1)]}}])})],2),_c('pagination',{attrs:{\"pageNum\":_vm.queryParams.pageNum,\"pageSize\":_vm.queryParams.pageSize,\"total\":_vm.formDataTotal},on:{\"sizeChange\":_vm.handleSizeChange,\"currentChange\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\nconst baseUrl = '/api/admin/form'\r\n\r\nconst formApi = {}\r\n\r\nformApi.findAll = (params) => {\r\n  return request({\r\n    url: `${baseUrl}`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nformApi.page = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/page`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nformApi.get = formId => {\r\n  return request({\r\n    url: `${baseUrl}/${formId}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nformApi.update = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/update`,\r\n    data: params,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\nformApi.create = form => {\r\n  return request({\r\n    url: `${baseUrl}/save`,\r\n    data: form,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\nformApi.delete = formId => {\r\n  return request({\r\n    url: `${baseUrl}/${formId}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nformApi.getFormData = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/data`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport default formApi\r\n","import request from '@/utils/request'\r\n\r\nconst baseUrl = '/api/admin/formField'\r\n\r\nconst formFieldApi = {}\r\n\r\nformFieldApi.findAll = (params) => {\r\n  return request({\r\n    url: `${baseUrl}`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nformFieldApi.page = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/page`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nformFieldApi.get = formFieldId => {\r\n  return request({\r\n    url: `${baseUrl}/${formFieldId}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nformFieldApi.update = (params) => {\r\n  return request({\r\n    url: `${baseUrl}`,\r\n    data: params,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\nformFieldApi.create = formField => {\r\n  return request({\r\n    url: `${baseUrl}`,\r\n    data: formField,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\nformFieldApi.delete = formFieldId => {\r\n  return request({\r\n    url: `${baseUrl}/${formFieldId}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport default formFieldApi\r\n","<template>\n  <div>\n    <el-card>\n      <div slot=\"header\" class=\"clearfix\">\n        <span>所有表单</span>\n        <el-button\n          v-if=\"addPermission\"\n          type=\"text\"\n          style=\"float: right; padding: 3px 0\"\n          @click=\"resetForm();showAddForm = true;\"\n        >新增</el-button>\n      </div>\n      <el-table\n        :data=\"forms\"\n        style=\"margin-bottom:20px;\"\n        v-loading=\"tableLoading\"\n        element-loading-background=\"rgba(0, 0, 0, 0.3)\"\n        element-loading-text=\"数据正在加载中\"\n        element-loading-spinner=\"el-icon-loading\"\n      >\n        <el-table-column prop=\"id\" label=\"ID\" width=\"120\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"表单名称\"></el-table-column>\n        <el-table-column prop=\"tableName\" label=\"表名称\"></el-table-column>\n        <el-table-column label=\"数据\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"viewData(scope.row)\">查看数据</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"字段\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"showField(scope.row)\">编辑字段</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"edit(scope.row)\">修改</el-button>\n            <el-popconfirm\n              title=\"确定删除本条数据吗？删除后不可恢复。\"\n              style=\"margin-left:10px;\"\n              cancelButtonType=\"default\"\n              @onConfirm=\"del(scope.row)\"\n            >\n              <el-button type=\"text\" slot=\"reference\">删除</el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <el-dialog title=\"编辑表单\" width=\"500px\" :visible.sync=\"showAddForm\">\n      <el-form :model=\"editParams\" label-position=\"right\" label-width=\"80px\">\n        <el-form-item label=\"表单名称\">\n          <el-input v-model=\"editParams.name\" autocomplete=\"off\" placeholder=\"名称：建议2-4字以内\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"表名称\">\n          <el-input\n            v-model=\"editParams.tableName\"\n            :disabled=\"editParams.id != null\"\n            autocomplete=\"off\"\n            placeholder=\"以字母开头，下划线分隔，例：message\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showAddForm = false;resetForm()\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveFormField\">确定</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog class=\"fieldDialog\" width=\"800px\" :visible.sync=\"showFormField\">\n      <el-tabs v-model=\"fieldTab\" @tab-click=\"tabClick\">\n        <el-tab-pane label=\"字段列表\" name=\"fieldTable\">\n          <el-table\n            :data=\"fields\"\n            style=\"margin-bottom:20px;\"\n            element-loading-background=\"rgba(0, 0, 0, 0.3)\"\n            element-loading-text=\"数据正在加载中\"\n            element-loading-spinner=\"el-icon-loading\"\n          >\n            <el-table-column prop=\"id\" label=\"ID\" width=\"60\"></el-table-column>\n            <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\n            <el-table-column prop=\"field\" label=\"字段\"></el-table-column>\n            <el-table-column prop=\"type\" label=\"类型\"></el-table-column>\n            <el-table-column prop=\"size\" label=\"长度\"></el-table-column>\n            <el-table-column prop=\"value\" label=\"字段值\" show-overflow-tooltip></el-table-column>\n            <el-table-column label=\"操作\" width=\"150\">\n              <template slot-scope=\"scope\">\n                <el-button\n                  type=\"text\"\n                  @click=\"tableFieldParams = scope.row;fieldTab = 'fieldEdit'\"\n                >修改</el-button>\n                <el-popconfirm\n                  title=\"确定删除本条数据吗？删除后不可恢复。\"\n                  style=\"margin-left:10px;\"\n                  cancelButtonType=\"default\"\n                  @onConfirm=\"delField(scope.row)\"\n                >\n                  <el-button type=\"text\" slot=\"reference\">删除</el-button>\n                </el-popconfirm>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-tab-pane>\n        <el-tab-pane label=\"字段编辑\" name=\"fieldEdit\">\n          <el-form :model=\"tableFieldParams\" label-position=\"right\" label-width=\"80px\">\n            <el-form-item label=\"名称\">\n              <el-input\n                v-model=\"tableFieldParams.name\"\n                autocomplete=\"off\"\n                placeholder=\"名称：建议2-4字以内\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"字段\">\n              <el-input\n                v-model=\"tableFieldParams.field\"\n                :disabled=\"tableFieldParams.id != null\"\n                autocomplete=\"off\"\n                placeholder=\"以字母开头，下划线分隔，例：price\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"类型\">\n              <el-select\n                v-model=\"tableFieldParams.type\"\n                :disabled=\"tableFieldParams.id != null\"\n                placeholder=\"请选类型\"\n              >\n                <el-option label=\"单行文本\" value=\"input\"></el-option>\n                <el-option label=\"多行文本\" value=\"textarea\"></el-option>\n                <el-option label=\"下拉列表\" value=\"select\"></el-option>\n                <el-option label=\"日期选择\" value=\"date\"></el-option>\n                <el-option label=\"单选按钮\" value=\"radio\"></el-option>\n                <el-option label=\"多选按钮\" value=\"checkbox\"></el-option>\n                <el-option label=\"图片上传\" value=\"image\"></el-option>\n                <el-option label=\"附件上传\" value=\"file\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"长度\">\n              <el-input\n                v-model=\"tableFieldParams.size\"\n                autocomplete=\"off\"\n                :disabled=\"tableFieldParams.id != null\"\n                placeholder=\"字段长度\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item label=\"字段值\">\n              <el-input\n                v-model=\"tableFieldParams.value\"\n                autocomplete=\"off\"\n                placeholder=\"只在单选、多选、下拉选择时有效\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"saveFiled\">保存</el-button>\n              <el-button>取消</el-button>\n            </el-form-item>\n          </el-form>\n        </el-tab-pane>\n      </el-tabs>\n    </el-dialog>\n    <el-dialog class=\"formDataDialog\" title=\"表单数据\" width=\"800px\" :visible.sync=\"showViewData\">\n      <el-table\n        :data=\"formData\"\n        style=\"margin-bottom:20px;\"\n        element-loading-background=\"rgba(0, 0, 0, 0.3)\"\n        element-loading-text=\"数据正在加载中\"\n        element-loading-spinner=\"el-icon-loading\"\n      >\n        <el-table-column prop=\"id\" label=\"ID\" width=\"60\"></el-table-column>\n        <el-table-column\n          v-for=\"field in fields\"\n          :key=\"field.field\"\n          :label=\"field.name\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <el-image\n              v-if=\"field.type=='image' && scope.row[field.field]\"\n              style=\"height: 80px\"\n              :src=\"scope.row[field.field]\"\n              :fit=\"scale-down\"\n              :preview-src-list=\"[scope.row[field.field]]\"\n            ></el-image>\n            <el-link\n              v-else-if=\"field.type=='file' && scope.row[field.field]\"\n              type=\"primary\"\n              :href=\"scope.row[field.field]\"\n              target=\"_blank\"\n              :underline=\"false\"\n            >查看</el-link>\n            <span v-else>{{scope.row[field.field]}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-button v-if=\"editPermission\" type=\"text\">修改</el-button>\n            <el-popconfirm\n              title=\"确定删除本条数据吗？删除后不可恢复。\"\n              style=\"margin-left:10px;\"\n              cancelButtonType=\"default\"\n              @onConfirm=\"delFormData(scope.row)\"\n            >\n              <el-button v-if=\"delPermission\" type=\"text\" slot=\"reference\">删除</el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n      <pagination\n        @sizeChange=\"handleSizeChange\"\n        @currentChange=\"handleCurrentChange\"\n        :pageNum=\"queryParams.pageNum\"\n        :pageSize=\"queryParams.pageSize\"\n        :total=\"formDataTotal\"\n      ></pagination>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Pagination from \"@/components/pagination\";\nimport formApi from \"@/api/formApi\";\nimport formFieldApi from \"@/api/formFieldApi\";\nimport store from \"@/store\";\nexport default {\n  components: { Pagination },\n  data() {\n    return {\n      addPermission: false,\n      editPermission: false,\n      delPermission: false,\n      showAddForm: false,\n      editParams: {},\n      tableLoading: false,\n      forms: [],\n      tableFieldParams: { size: 255, type: \"input\" },\n      fieldTab: \"fieldTable\",\n      selectedTable: {},\n      showFormField: false,\n      showViewData: false,\n      formData: [],\n      queryParams: {\n        pageNum: 1,\n        pageSize: 5\n      },\n      formDataTotal: 0,\n      fields: []\n    };\n  },\n  created() {\n    this.addPermission = store.state.user.permissions.indexOf(400101001) > -1;\n    this.editPermission = store.state.user.permissions.indexOf(400101002) > -1;\n    this.delPermission = store.state.user.permissions.indexOf(400101003) > -1;\n    this.getForms();\n  },\n  methods: {\n    getForms() {\n      this.tableLoading = true;\n      formApi.findAll().then(res => {\n        this.forms = res.data;\n        this.tableLoading = false;\n      });\n    },\n    typeChange(val) {},\n    saveFormField() {\n      if (!this.editParams.name || !this.editParams.tableName) {\n        this.$message.warning(\"请填写表单名称和表名称\");\n        return false;\n      }\n      if (this.editParams.id) {\n        formApi.update(this.editParams).then(res => {\n          this.$message.success(\"保存成功\");\n          this.resetForm();\n          this.getForms();\n        });\n      } else {\n        formApi.create(this.editParams).then(res => {\n          this.$message.success(\"保存成功\");\n          this.resetForm();\n          this.getForms();\n        });\n      }\n    },\n    edit(row) {\n      this.showAddForm = true;\n      this.editParams = row;\n    },\n    del(row) {\n      formApi.delete(row.id).then(res => {\n        this.$message.success(\"删除成功\");\n        this.getForms();\n      });\n    },\n    showField(row) {\n      this.selectedTable = row;\n      this.showFormField = true;\n      this.getAllField(row.tableName);\n    },\n    viewData(row) {\n      this.selectedTable = row;\n      this.getAllField(row.tableName);\n      this.getAllData(row.tableName);\n    },\n    getAllField(tableName) {\n      formFieldApi.findAll({ tableName: tableName }).then(res => {\n        this.fields = res.data;\n      });\n    },\n    getAllData(tableName) {\n      this.queryParams.tableName = tableName;\n      formApi.getFormData(this.queryParams).then(res => {\n        this.showViewData = true;\n        this.formData = res.data.records;\n        this.formDataTotal = res.data.total;\n      });\n    },\n    tabClick(tab) {\n      this.tableFieldParams = {\n        size: 255,\n        type: \"input\",\n        tableName: this.selectedTable.tableName\n      };\n    },\n    saveFiled() {\n      let tableName = this.selectedTable.tableName;\n      this.tableFieldParams.tableName = tableName;\n      if (!this.tableFieldParams.name) {\n        this.$message.warning(\"请填写名称\");\n        return false;\n      }\n      if (!this.tableFieldParams.field) {\n        this.$message.warning(\"请填写字段\");\n        return false;\n      }\n      if (this.tableFieldParams.id) {\n        formFieldApi.update(this.tableFieldParams).then(res => {\n          this.getAllField(tableName);\n          this.fieldTab = \"fieldTable\";\n        });\n      } else {\n        formFieldApi.create(this.tableFieldParams).then(res => {\n          this.getAllField(tableName);\n          this.fieldTab = \"fieldTable\";\n        });\n      }\n    },\n    delField(row) {\n      formFieldApi.delete(row.id).then(res => {\n        this.getAllField(row.tableName);\n        this.fieldTab = \"fieldTable\";\n      });\n    },\n    handleSizeChange(val) {\n      this.queryParams.pageSize = val;\n      this.getAllData(this.selectedTable.tableName);\n    },\n    handleCurrentChange(val) {\n      this.queryParams.pageNum = val;\n      this.getAllData(this.selectedTable.tableName);\n    },\n    delFormData() {},\n    resetForm() {\n      this.showAddForm = false;\n      this.editParams = {};\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.fieldDialog {\n  .el-dialog {\n    min-height: 500px;\n    .el-dialog__body {\n      padding-top: 0;\n    }\n  }\n}\n.formDataDialog {\n  .el-dialog__body {\n    min-height: 425px;\n  }\n}\n</style>>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=26af8cf2&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./form.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}