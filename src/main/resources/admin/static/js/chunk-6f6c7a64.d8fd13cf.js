(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f6c7a64"],{"22ef":function(e,t,n){"use strict";var r=n("efe2");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"2e07":function(e,t,n){},"38eb":function(e,t,n){"use strict";var r=n("f62c").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5139:function(e,t,n){"use strict";var r=n("99ad"),i=n("22ef"),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),o=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=l||u||o;f&&(c=function(e){var t,n,i,c,f=this,h=o&&f.sticky,d=r.call(f),v=f.source,p=0,g=e;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),g=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,p++),n=new RegExp("^(?:"+v+")",d)),u&&(n=new RegExp("^"+v+"$(?!\\s)",d)),l&&(t=f.lastIndex),i=a.call(h?n:f,g),h?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:l&&i&&(f.lastIndex=f.global?i.index+i[0].length:t),u&&i&&i.length>1&&s.call(i[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i}),e.exports=c},"59da":function(e,t,n){var r=n("2118"),i=n("5139");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"5e9f":function(e,t,n){"use strict";var r=n("b2a2"),i=n("857c"),a=n("3553"),s=n("d88d"),c=n("3da3"),l=n("2732"),o=n("38eb"),u=n("59da"),f=Math.max,h=Math.min,d=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var x=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,$=r.REPLACE_KEEPS_$0,b=x?"$":"$0";return[function(n,r){var i=l(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!x&&$||"string"===typeof r&&-1===r.indexOf(b)){var a=n(t,e,this,r);if(a.done)return a.value}var l=i(e),d=String(this),v="function"===typeof r;v||(r=String(r));var p=l.global;if(p){var w=l.unicode;l.lastIndex=0}var m=[];while(1){var E=u(l,d);if(null===E)break;if(m.push(E),!p)break;var y=String(E[0]);""===y&&(l.lastIndex=o(d,s(l.lastIndex),w))}for(var V="",_=0,S=0;S<m.length;S++){E=m[S];for(var R=String(E[0]),k=f(h(c(E.index),d.length),0),C=[],I=1;I<E.length;I++)C.push(g(E[I]));var P=E.groups;if(v){var A=[R].concat(C,k,d);void 0!==P&&A.push(P);var L=String(r.apply(void 0,A))}else L=T(R,d,k,C,P,r);k>=_&&(V+=d.slice(_,k)+L,_=k+R.length)}return V+d.slice(_)}];function T(e,n,r,i,s,c){var l=r+e.length,o=i.length,u=p;return void 0!==s&&(s=a(s),u=v),t.call(c,u,(function(t,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":c=s[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>o){var f=d(u/10);return 0===f?t:f<=o?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):t}c=i[u-1]}return void 0===c?"":c}))}}))},6186:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["tag"==e.type?n("div",{staticClass:"views-container"},[n("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},e._l(e.visitedViews,(function(t){return n("el-tag",{key:t.path,ref:"tag",refInFor:!0,staticClass:"view-item",attrs:{type:e.isActive(t)?"":"info",closable:!t.fixed,size:"medium","data-path":t.path},on:{close:function(n){return e.closeTag(t.path)},click:function(n){return e.clickTag(t.path)}},nativeOn:{contextmenu:function(n){return n.preventDefault(),e.openMenu(t,n)}}},[e._v(e._s(t.name))])})),1),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[n("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),e.selectedTag.fixed?e._e():n("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),n("li",{on:{click:e.closeOthersTags}},[e._v("关闭其他")]),n("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])])],1):e._e(),"tab"==e.type?n("div",{staticClass:"tab-views"},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabClick,"tab-remove":e.removeView},model:{value:e.currentViews,callback:function(t){e.currentViews=t},expression:"currentViews"}},e._l(e.visitedViews,(function(t){return n("el-tab-pane",{key:t.name,ref:"tag",refInFor:!0,attrs:{"data-path":t.path,label:t.name,closable:!t.fixed,name:t.name},nativeOn:{contextmenu:function(n){return n.preventDefault(),e.openMenu(t,n)}}})})),1)],1):e._e()])},i=[],a=(n("b4fb"),n("dbb3"),n("fe59"),n("77ad"),n("d497"),n("053b"),n("e35a"),n("5e9f"),n("acf8"),n("08ba"),n("b443")),s=n("c52d"),c=n("6266"),l=n.n(c),o=(n("a18c"),n("b628")),u=4,f={props:{type:{default:"tab"}},data:function(){return{visible:!1,top:0,left:0,fixedTags:[],selectedTag:{},currentViews:this.$route.name}},computed:{visitedViews:function(){return this.$store.state.viewsBar.visitedViews}},watch:{$route:function(){this.currentViews=this.$route.name,this.addViewTags(),"tag"==this.type&&this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addViewTags()},methods:{isActive:function(e){return e.path===this.$route.path},filterFixedViews:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=[];return e.forEach((function(e){if(e.fixed){var i=l.a.resolve(n,e.path);r.push({fullPath:i,path:i,name:e.name,fixed:e.meta&&e.meta.fixed})}if(e.children){var a=t.filterFixedViews(e.children,e.path);a.length>=1&&(r=[].concat(Object(s["a"])(r),Object(s["a"])(a)))}})),r},initTags:function(){var e,t=this.fixedTags=this.filterFixedViews(o["a"].getDynamicRouters()),n=Object(a["a"])(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.name&&this.$store.dispatch("addVisitedView",r)}}catch(i){n.e(i)}finally{n.f()}},addViewTags:function(){var e=this.$route.name;return e&&this.$store.dispatch("addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var n,r=Object(a["a"])(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.$el.dataset.path===e.$route.path){e.moveToTarget(i),i.fullPath!==e.$route.fullPath&&e.$store.dispatch("updateVisitedView",e.$route);break}}}catch(s){r.e(s)}finally{r.f()}}))},refreshSelectedTag:function(e){var t=e.fullPath;if(t==this.$route.fullPath)return this.$router.replace("/"),void this.$router.replace(t);this.$router.replace(t)},closeTag:function(e){var t=this.visitedViews.filter((function(t){return t.path==e}))[0];this.closeSelectedTag(t)},clickTag:function(e){this.$route.path!=e&&this.$router.push(e)},closeSelectedTag:function(e){var t=this;this.$store.dispatch("delView",e).then((function(n){var r=n.visitedViews;if(t.isActive(e)){var i=r.slice(-1)[0];i?t.$router.push(i.path):t.$router.push("/")}}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag()}))},closeAllTags:function(e){var t=this;this.$store.dispatch("delAllViews").then((function(n){var r=n.visitedViews;t.fixedTags.some((function(t){return t.path===e.path}))||t.toLastView(r,e)}))},toLastView:function(e,t){var n=e.slice(-1)[0];n?this.$router.push(n):"首页"===t.name?this.$router.replace({path:t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var n=105,r=this.$el.getBoundingClientRect().left,i=this.$el.offsetWidth,a=i+r-n,s=t.clientX+5;this.left=s>a?a:s,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(e){var t=-e.wheelDelta||40*-e.deltaY,n=this.$refs.scrollContainer.$refs.wrap;n.scrollLeft=n.scrollLeft+t/4},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,n=t.offsetWidth,r=this.$refs.scrollContainer.$refs.wrap,i=this.$refs.tag,a=null,s=null,c=null,l=null;i.length>0&&(a=i[0],s=i[i.length-1]);for(var o=0;o<i.length;o++)if(i[o]===e){0===o?l=i[o].length>1&&i[o+1]:o===i.length-1?c=i[o].length>1&&i[o-1]:(c=i[o-1],l=i[o+1]);break}if(a===e)r.scrollLeft=0;else if(s===e)r.scrollLeft=r.scrollWidth-n;else{var f=l.$el.offsetLeft+l.$el.offsetWidth+u,h=c.$el.offsetLeft-u;f>r.scrollLeft+n?r.scrollLeft=f-n:h<r.scrollLeft&&(r.scrollLeft=h)}},tabClick:function(e){var t=e.$el.dataset.path;this.$route.path!=t&&this.$router.push(t)},removeView:function(e){var t=this.visitedViews.filter((function(t){return t.name==e}))[0];this.closeSelectedTag(t)}}},h=f,d=(n("d152"),n("99ce"),n("4023")),v=Object(d["a"])(h,r,i,!1,null,"61c18c56",null);t["default"]=v.exports},"99ce":function(e,t,n){"use strict";var r=n("2e07"),i=n.n(r);i.a},b2a2:function(e,t,n){"use strict";n("e35a");var r=n("1944"),i=n("efe2"),a=n("90fb"),s=n("5139"),c=n("0fc1"),l=a("species"),o=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=a("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var v=a(e),p=!i((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),g=p&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!p||!g||"replace"===e&&(!o||!u||h)||"split"===e&&!d){var x=/./[v],$=n(v,""[e],(function(e,t,n,r,i){return t.exec===s?p&&!i?{done:!0,value:x.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=$[0],T=$[1];r(String.prototype,e,b),r(RegExp.prototype,v,2==t?function(e,t){return T.call(e,this,t)}:function(e){return T.call(e,this)})}f&&c(RegExp.prototype[v],"sham",!0)}},d152:function(e,t,n){"use strict";var r=n("fd71"),i=n.n(r);i.a},e35a:function(e,t,n){"use strict";var r=n("1c8b"),i=n("5139");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},fd71:function(e,t,n){}}]);
//# sourceMappingURL=chunk-6f6c7a64.d8fd13cf.js.map