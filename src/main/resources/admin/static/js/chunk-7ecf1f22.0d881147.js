(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ecf1f22"],{"031b":function(t,e,n){"use strict";var a=n("b775"),i="/api/admin/template",c={findAll:function(t){return Object(a["a"])({url:"".concat(i),params:t,method:"get"})},directory:function(t){return Object(a["a"])({url:"".concat(i,"/directory"),params:t,method:"get"})},fileList:function(){return Object(a["a"])({url:"".concat(i,"/file-list"),method:"get"})},getContent:function(t){return Object(a["a"])({url:"".concat(i,"/content"),params:t,method:"get"})},write:function(t){return Object(a["a"])({url:"".concat(i,"/write"),data:t,method:"put"})},copyFile:function(t){return Object(a["a"])({url:"".concat(i,"/file/copy"),data:t,method:"post"})},createDir:function(t){return Object(a["a"])({url:"".concat(i,"/directory/create"),data:t,method:"post"})},createFile:function(t){return Object(a["a"])({url:"".concat(i,"/create"),data:t,method:"post"})},rename:function(t,e){return Object(a["a"])({url:"".concat(i,"/rename"),params:{srcPath:t,targetPath:e},method:"put"})},deleteFile:function(t){return Object(a["a"])({url:"".concat(i,"/file/delete"),data:t,method:"delete"})},update:function(t){return Object(a["a"])({url:"".concat(i),data:t,method:"put"})},setActive:function(t){return Object(a["a"])({url:"".concat(i,"/setActive"),data:t,method:"put"})},delete:function(t){return Object(a["a"])({url:"".concat(i,"/").concat(t),method:"delete"})}};e["a"]=c},"52c7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{attrs:{gutter:20}},[t._l(t.templates,(function(e){return n("el-col",{key:e.id,staticClass:"mb20",attrs:{xl:6,lg:6,md:8,sm:24,xs:24}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{"font-weight":"bolder"}},[t._v(t._s(e.name))])]),n("div",[n("el-image",{staticStyle:{height:"230px"},attrs:{src:e.img,fit:"scale-down"}})],1),n("div",{staticClass:"setting-bar"},[1==e.active&&t.editPermission?n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-unlock",circle:""}}):t.editPermission?n("el-button",{attrs:{size:"small",icon:"el-icon-lock",circle:""},on:{click:function(n){return t.setActive(e.id,e.name)}}}):t._e(),n("el-dropdown",[n("span",{staticClass:"el-dropdown-link",staticStyle:{cursor:"pointer"}},[n("i",{staticClass:"el-icon-more",staticStyle:{"margin-right":"10px"}}),t._v("更多 ")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},on:{command:t.handleCommand},slot:"dropdown"},[0==e.active&&t.delPermission?n("el-dropdown-item",{attrs:{command:{name:"delete",id:e.id}}},[t._v("删除")]):t._e(),n("el-dropdown-item",{attrs:{command:{name:"updateOline",id:e.id}}},[t._v("在线更新")]),n("el-dropdown-item",{attrs:{command:{name:"updateLocal",id:e.id}}},[t._v("本地更新")])],1)],1)],1)])],1)})),n("el-col",{staticClass:"mb20",attrs:{xl:6,lg:6,md:8,sm:24,xs:24}},[n("div",{staticStyle:{"text-align":"center","line-height":"397px"}},[t.addPermission?n("el-button",{staticStyle:{"font-size":"30px"},attrs:{type:"primary",icon:"el-icon-plus",circle:""}}):t._e()],1)])],2)],1)},i=[],c=(n("ecb4"),n("053b"),n("031b")),s=n("4360"),r={components:{},data:function(){return{addPermission:!1,editPermission:!1,delPermission:!1,activeTemplate:{},templates:[]}},created:function(){this.addPermission=s["a"].state.user.permissions.indexOf(500101001)>-1,this.editPermission=s["a"].state.user.permissions.indexOf(500101002)>-1,this.delPermission=s["a"].state.user.permissions.indexOf(500101003)>-1,this.getTemplates()},methods:{getTemplates:function(){var t=this;c["a"].findAll().then((function(e){t.templates=e.data}))},setActive:function(t,e){var n=this;c["a"].setActive({id:t,name:e}).then((function(t){n.$message.success("设置成功"),n.getTemplates()}))},handleCommand:function(t){var e=this;switch(console.log(t),t.name){case"delete":c["a"].delete(t.id).then((function(t){e.$message.success("删除成功"),e.getTemplates()}));break;default:break}}}},o=r,l=(n("8163"),n("4023")),d=Object(l["a"])(o,a,i,!1,null,"730e038e",null);e["default"]=d.exports},8163:function(t,e,n){"use strict";var a=n("e72e"),i=n.n(a);i.a},e72e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-7ecf1f22.0d881147.js.map