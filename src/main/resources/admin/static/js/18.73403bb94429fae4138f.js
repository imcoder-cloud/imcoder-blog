webpackJsonp([18],{"8RZO":function(t,e){},wIEe:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("vLgD"),a="/api/admin/options",s={findAll:function(t){return Object(n.a)({url:""+a,params:t,method:"get"})},getOptions:function(){return Object(n.a)({url:a+"/all",method:"get"})},page:function(t){return Object(n.a)({url:a+"/page",params:t,method:"get"})},get:function(t){return Object(n.a)({url:a+"/"+t,method:"get"})},save:function(t){return Object(n.a)({url:a+"/save",data:t,method:"put"})},create:function(t){return Object(n.a)({url:a,data:t,method:"post"})},delete:function(t){return Object(n.a)({url:a+"/"+t,method:"delete"})}},i=s,l={data:function(){return{options:{},logoImg:[],wechatImg:[]}},created:function(){this.getOptions()},methods:{getOptions:function(){var t=this;i.getOptions().then(function(e){t.options=e.data;var o=t.options.site_logo;t.logoImg=[{name:o.split("@@")[1],url:o}];var n=t.options.company_wechat;t.wechatImg=[{name:n.split("@@")[1],url:o}]})},submitForm:function(){var t=this;i.save(this.options).then(function(e){t.$message.success("保存成功")})},resetForm:function(){},onSuccess:function(t,e,o){this.options.site_logo=t.data.url},handleRemove:function(t,e){this.options.site_logo=""},onWechatSuccess:function(t,e,o){this.options.company_wechat=t.data.url},handleWechatRemove:function(t,e){this.options.company_wechat=""}}},p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",{staticClass:"mb20"},[o("el-card",[o("el-form",{ref:"options",staticClass:"vertical-form",attrs:{model:t.options,"label-width":"100px"}},[o("el-tabs",{attrs:{value:"basic"}},[o("el-tab-pane",{attrs:{label:"站点信息",name:"basic"}},[o("el-form-item",{attrs:{label:"站点标题"}},[o("el-input",{model:{value:t.options.site_title,callback:function(e){t.$set(t.options,"site_title",e)},expression:"options.site_title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"站点副标题"}},[o("el-input",{model:{value:t.options.site_sub_title,callback:function(e){t.$set(t.options,"site_sub_title",e)},expression:"options.site_sub_title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"站点地址"}},[o("el-input",{model:{value:t.options.site_url,callback:function(e){t.$set(t.options,"site_url",e)},expression:"options.site_url"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"站点LOGO"}},[o("el-upload",{attrs:{action:"/api/admin/upload/image","on-remove":t.handleRemove,"on-success":t.onSuccess,"file-list":t.logoImg,limit:1,"list-type":"picture"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"备案号"}},[o("el-input",{model:{value:t.options.site_icp,callback:function(e){t.$set(t.options,"site_icp",e)},expression:"options.site_icp"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"关键字"}},[o("el-input",{model:{value:t.options.keywords,callback:function(e){t.$set(t.options,"keywords",e)},expression:"options.keywords"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"站点描述"}},[o("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.options.description,callback:function(e){t.$set(t.options,"description",e)},expression:"options.description"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"统计代码"}},[o("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.options.statistic_code,callback:function(e){t.$set(t.options,"statistic_code",e)},expression:"options.statistic_code"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"推送代码"}},[o("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.options.push_code,callback:function(e){t.$set(t.options,"push_code",e)},expression:"options.push_code"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"页脚信息"}},[o("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.options.page_footer,callback:function(e){t.$set(t.options,"page_footer",e)},expression:"options.page_footer"}})],1)],1),t._v(" "),o("el-tab-pane",{attrs:{label:"企业信息",name:"company"}},[o("el-form-item",{attrs:{label:"企业名称"}},[o("el-input",{model:{value:t.options.company_name,callback:function(e){t.$set(t.options,"company_name",e)},expression:"options.company_name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"企业地址"}},[o("el-input",{model:{value:t.options.company_address,callback:function(e){t.$set(t.options,"company_address",e)},expression:"options.company_address"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"邮政编码"}},[o("el-input",{model:{value:t.options.company_postcode,callback:function(e){t.$set(t.options,"company_postcode",e)},expression:"options.company_postcode"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"联系人"}},[o("el-input",{model:{value:t.options.company_contact,callback:function(e){t.$set(t.options,"company_contact",e)},expression:"options.company_contact"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机号"}},[o("el-input",{model:{value:t.options.company_mobile,callback:function(e){t.$set(t.options,"company_mobile",e)},expression:"options.company_mobile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"联系电话"}},[o("el-input",{model:{value:t.options.company_phone,callback:function(e){t.$set(t.options,"company_phone",e)},expression:"options.company_phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"传真号码"}},[o("el-input",{model:{value:t.options.company_fax,callback:function(e){t.$set(t.options,"company_fax",e)},expression:"options.company_fax"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"电子邮箱"}},[o("el-input",{model:{value:t.options.company_email,callback:function(e){t.$set(t.options,"company_email",e)},expression:"options.company_email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"联系QQ"}},[o("el-input",{model:{value:t.options.company_QQ,callback:function(e){t.$set(t.options,"company_QQ",e)},expression:"options.company_QQ"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"微信图标"}},[o("el-upload",{attrs:{action:"/api/admin/upload/image","on-remove":t.handleWechatRemove,"on-success":t.onWechatSuccess,"file-list":t.wechatImg,limit:1,"list-type":"picture"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"营业执照"}},[o("el-input",{model:{value:t.options.company_blicense,callback:function(e){t.$set(t.options,"company_blicense",e)},expression:"options.company_blicense"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"其他信息"}},[o("el-input",{model:{value:t.options.company_other,callback:function(e){t.$set(t.options,"company_other",e)},expression:"options.company_other"}})],1)],1),t._v(" "),o("el-tab-pane",{attrs:{label:"其他设置",name:"other"}},[o("el-form-item",{attrs:{label:"全局head"}},[o("el-input",{attrs:{type:"textarea",rows:10},model:{value:t.options.global_head,callback:function(e){t.$set(t.options,"global_head",e)},expression:"options.global_head"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"内容页head"}},[o("el-input",{attrs:{type:"textarea",rows:10},model:{value:t.options.content_head,callback:function(e){t.$set(t.options,"content_head",e)},expression:"options.content_head"}})],1)],1)],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("保存")]),t._v(" "),o("el-button",{on:{click:function(e){return t.resetForm()}}},[t._v("重置")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(l,p,!1,function(t){o("8RZO")},"data-v-7985c848",null);e.default=c.exports}});