{"version":3,"sources":["webpack:///./src/api/templateApi.js","webpack:///./src/views/theme/list.vue?870f","webpack:///src/views/theme/list.vue","webpack:///./src/views/theme/list.vue?90be","webpack:///./src/views/theme/list.vue","webpack:///./src/views/theme/list.vue?0d51"],"names":["baseUrl","templateApi","params","request","url","method","file","data","src","target","srcPath","targetPath","param","templateId","render","_vm","this","_h","$createElement","_c","_self","attrs","_l","item","key","id","staticClass","slot","staticStyle","_v","_s","name","img","active","editPermission","on","$event","setActive","_e","handleCommand","delPermission","staticRenderFns","components","addPermission","activeTemplate","templates","created","store","getTemplates","methods","console","log","command","component"],"mappings":"kHAAA,gBAEMA,EAAU,sBAEVC,EAAc,CAEpBA,QAAsB,SAACC,GACrB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,GACRE,OAAQA,EACRG,OAAQ,SAIZJ,UAAwB,SAACC,GACvB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,cACHE,OAAQA,EACRG,OAAQ,SAIZJ,SAAuB,WACrB,OAAOE,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,cACHK,OAAQ,SAIZJ,WAAyB,SAACC,GACxB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,YACHE,OAAQA,EACRG,OAAQ,SAIZJ,MAAoB,SAAAK,GAClB,OAAOH,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,UACHO,KAAMD,EACND,OAAQ,SAIZJ,SAAuB,SAACM,GACtB,OAAOJ,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,cACHO,KAAMA,EACNF,OAAQ,UAIZJ,UAAwB,SAACM,GACvB,OAAOJ,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,qBACHO,KAAMA,EACNF,OAAQ,UAIZJ,WAAyB,SAACM,GACxB,OAAOJ,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,WACHO,KAAMA,EACNF,OAAQ,UAIZJ,OAAqB,SAACO,EAAKC,GACzB,OAAON,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,WACHE,OAAQ,CAAEQ,QAASF,EAAKG,WAAYF,GACpCJ,OAAQ,SAIZJ,WAAyB,SAAAW,GACvB,OAAOT,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,gBACHO,KAAMK,EACNP,OAAQ,YAIZJ,OAAqB,SAACC,GACpB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,GACRO,KAAML,EACNG,OAAQ,SAIZJ,UAAwB,SAACC,GACvB,OAAOC,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,cACHO,KAAML,EACNG,OAAQ,SAIZJ,OAAqB,SAAAY,GACnB,OAAOV,eAAQ,CACbC,IAAK,GAAF,OAAKJ,EAAL,YAAgBa,GACnBR,OAAQ,aAIGJ,U,2CC5Gf,IAAIa,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,CAACN,EAAIO,GAAIP,EAAa,WAAE,SAASQ,GAAM,OAAOJ,EAAG,SAAS,CAACK,IAAID,EAAKE,GAAGC,YAAY,OAAOL,MAAM,CAAC,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,GAAG,GAAK,KAAK,CAACF,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,UAAUM,KAAK,UAAU,CAACR,EAAG,OAAO,CAACS,YAAY,CAAC,cAAc,WAAW,CAACb,EAAIc,GAAGd,EAAIe,GAAGP,EAAKQ,WAAWZ,EAAG,MAAM,CAACA,EAAG,WAAW,CAACS,YAAY,CAAC,OAAS,SAASP,MAAM,CAAC,IAAME,EAAKS,IAAI,IAAM,iBAAiB,GAAGb,EAAG,MAAM,CAACO,YAAY,eAAe,CAAiB,GAAfH,EAAKU,QAAalB,EAAImB,eAAgBf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,KAAO,iBAAiB,OAAS,MAAON,EAAkB,eAAEI,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,eAAe,OAAS,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsB,UAAUd,EAAKE,GAAGF,EAAKQ,UAAUhB,EAAIuB,KAAKnB,EAAG,cAAc,CAACA,EAAG,OAAO,CAACO,YAAY,mBAAmBE,YAAY,CAAC,OAAS,YAAY,CAACT,EAAG,IAAI,CAACO,YAAY,eAAeE,YAAY,CAAC,eAAe,UAAUb,EAAIc,GAAG,SAASV,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAO,YAAYc,GAAG,CAAC,QAAUpB,EAAIwB,eAAeZ,KAAK,YAAY,CAAiB,GAAfJ,EAAKU,QAAalB,EAAIyB,cAAerB,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAU,CAACU,KAAK,SAASN,GAAGF,EAAKE,MAAM,CAACV,EAAIc,GAAG,QAAQd,EAAIuB,KAAKnB,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAU,CAACU,KAAK,cAAcN,GAAGF,EAAKE,MAAM,CAACV,EAAIc,GAAG,UAAUV,EAAG,mBAAmB,CAACE,MAAM,CAAC,QAAU,CAACU,KAAK,cAAcN,GAAGF,EAAKE,MAAM,CAACV,EAAIc,GAAG,WAAW,IAAI,IAAI,MAAM,MAAKV,EAAG,SAAS,CAACO,YAAY,OAAOL,MAAM,CAAC,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,GAAG,GAAK,KAAK,CAACF,EAAG,MAAM,CAACS,YAAY,CAAC,aAAa,SAAS,cAAc,UAAU,CAAEb,EAAiB,cAAEI,EAAG,YAAY,CAACS,YAAY,CAAC,YAAY,QAAQP,MAAM,CAAC,KAAO,UAAU,KAAO,eAAe,OAAS,MAAMN,EAAIuB,MAAM,MAAM,IAAI,IAC3vDG,EAAkB,G,8CCoEtB,GACEC,WAAY,GACZnC,KAFF,WAGI,MAAO,CACLoC,eAAe,EACfT,gBAAgB,EAChBM,eAAe,EACfI,eAAgB,GAChBC,UAAW,KAGfC,QAXF,WAYI9B,KAAK2B,cAAgBI,EAAzB,kDACI/B,KAAKkB,eAAiBa,EAA1B,kDACI/B,KAAKwB,cAAgBO,EAAzB,kDACI/B,KAAKgC,gBAEPC,QAAS,CACPD,aADJ,WACA,WACM/C,EAAN,iCACQ,EAAR,qBAGIoC,UANJ,SAMA,gBACMpC,EAAN,gDACQ,EAAR,yBACQ,EAAR,mBAGIsC,cAZJ,SAYA,cAEM,OADAW,QAAQC,IAAIC,GACJA,EAAQrB,MACd,IAAK,SACH9B,EAAV,oCACY,EAAZ,yBACY,EAAZ,kBAEU,MAEF,QACE,UC7Gub,I,wBCQ7boD,EAAY,eACd,EACAvC,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAAY,E,2CCnBf,yBAA0sB,EAAG,G","file":"static/js/chunk-7ecf1f22.0d881147.js","sourcesContent":["import request from '@/utils/request'\r\n\r\nconst baseUrl = '/api/admin/template'\r\n\r\nconst templateApi = {}\r\n\r\ntemplateApi.findAll = (params) => {\r\n  return request({\r\n    url: `${baseUrl}`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ntemplateApi.directory = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/directory`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ntemplateApi.fileList = () => {\r\n  return request({\r\n    url: `${baseUrl}/file-list`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ntemplateApi.getContent = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/content`,\r\n    params: params,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\ntemplateApi.write = file => {\r\n  return request({\r\n    url: `${baseUrl}/write`,\r\n    data: file,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\ntemplateApi.copyFile = (data) => {\r\n  return request({\r\n    url: `${baseUrl}/file/copy`,\r\n    data: data,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\ntemplateApi.createDir = (data) => {\r\n  return request({\r\n    url: `${baseUrl}/directory/create`,\r\n    data: data,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\ntemplateApi.createFile = (data) => {\r\n  return request({\r\n    url: `${baseUrl}/create`,\r\n    data: data,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\ntemplateApi.rename = (src, target) => {\r\n  return request({\r\n    url: `${baseUrl}/rename`,\r\n    params: { srcPath: src, targetPath: target },\r\n    method: 'put'\r\n  })\r\n}\r\n\r\ntemplateApi.deleteFile = param => {\r\n  return request({\r\n    url: `${baseUrl}/file/delete`,\r\n    data: param,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\ntemplateApi.update = (params) => {\r\n  return request({\r\n    url: `${baseUrl}`,\r\n    data: params,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\ntemplateApi.setActive = (params) => {\r\n  return request({\r\n    url: `${baseUrl}/setActive`,\r\n    data: params,\r\n    method: 'put'\r\n  })\r\n}\r\n\r\ntemplateApi.delete = templateId => {\r\n  return request({\r\n    url: `${baseUrl}/${templateId}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport default templateApi\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"gutter\":20}},[_vm._l((_vm.templates),function(item){return _c('el-col',{key:item.id,staticClass:\"mb20\",attrs:{\"xl\":6,\"lg\":6,\"md\":8,\"sm\":24,\"xs\":24}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(_vm._s(item.name))])]),_c('div',[_c('el-image',{staticStyle:{\"height\":\"230px\"},attrs:{\"src\":item.img,\"fit\":\"scale-down\"}})],1),_c('div',{staticClass:\"setting-bar\"},[(item.active == 1&&_vm.editPermission)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-unlock\",\"circle\":\"\"}}):(_vm.editPermission)?_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-lock\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.setActive(item.id,item.name)}}}):_vm._e(),_c('el-dropdown',[_c('span',{staticClass:\"el-dropdown-link\",staticStyle:{\"cursor\":\"pointer\"}},[_c('i',{staticClass:\"el-icon-more\",staticStyle:{\"margin-right\":\"10px\"}}),_vm._v(\"更多 \")]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},on:{\"command\":_vm.handleCommand},slot:\"dropdown\"},[(item.active == 0&&_vm.delPermission)?_c('el-dropdown-item',{attrs:{\"command\":{name:'delete',id:item.id}}},[_vm._v(\"删除\")]):_vm._e(),_c('el-dropdown-item',{attrs:{\"command\":{name:'updateOline',id:item.id}}},[_vm._v(\"在线更新\")]),_c('el-dropdown-item',{attrs:{\"command\":{name:'updateLocal',id:item.id}}},[_vm._v(\"本地更新\")])],1)],1)],1)])],1)}),_c('el-col',{staticClass:\"mb20\",attrs:{\"xl\":6,\"lg\":6,\"md\":8,\"sm\":24,\"xs\":24}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"line-height\":\"397px\"}},[(_vm.addPermission)?_c('el-button',{staticStyle:{\"font-size\":\"30px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"circle\":\"\"}}):_vm._e()],1)])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-row :gutter=\"20\">\n      <el-col\n        v-for=\"item in templates\"\n        :key=\"item.id\"\n        class=\"mb20\"\n        :xl=\"6\"\n        :lg=\"6\"\n        :md=\"8\"\n        :sm=\"24\"\n        :xs=\"24\"\n      >\n        <el-card>\n          <div slot=\"header\">\n            <span style=\"font-weight: bolder;\">{{item.name}}</span>\n          </div>\n          <div>\n            <el-image style=\"height: 230px\" :src=\"item.img\" fit=\"scale-down\"></el-image>\n          </div>\n          <div class=\"setting-bar\">\n            <el-button\n              v-if=\"item.active == 1&&editPermission\"\n              type=\"primary\"\n              size=\"small\"\n              icon=\"el-icon-unlock\"\n              circle\n            ></el-button>\n            <el-button\n              v-else-if=\"editPermission\"\n              size=\"small\"\n              icon=\"el-icon-lock\"\n              circle\n              @click=\"setActive(item.id,item.name)\"\n            ></el-button>\n            <el-dropdown>\n              <span class=\"el-dropdown-link\" style=\"cursor: pointer;\">\n                <i class=\"el-icon-more\" style=\"margin-right:10px;\"></i>更多\n              </span>\n              <el-dropdown-menu slot=\"dropdown\" @command=\"handleCommand\">\n                <el-dropdown-item\n                  v-if=\"item.active == 0&&delPermission\"\n                  :command=\"{name:'delete',id:item.id}\"\n                >删除</el-dropdown-item>\n                <el-dropdown-item :command=\"{name:'updateOline',id:item.id}\">在线更新</el-dropdown-item>\n                <el-dropdown-item :command=\"{name:'updateLocal',id:item.id}\">本地更新</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col class=\"mb20\" :xl=\"6\" :lg=\"6\" :md=\"8\" :sm=\"24\" :xs=\"24\">\n        <div style=\"text-align: center;line-height: 397px;\">\n          <el-button\n            v-if=\"addPermission\"\n            type=\"primary\"\n            style=\"font-size: 30px;\"\n            icon=\"el-icon-plus\"\n            circle\n          ></el-button>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport templateApi from \"@/api/templateApi\";\nimport store from \"@/store\";\nexport default {\n  components: {},\n  data() {\n    return {\n      addPermission: false,\n      editPermission: false,\n      delPermission: false,\n      activeTemplate: {},\n      templates: []\n    };\n  },\n  created() {\n    this.addPermission = store.state.user.permissions.indexOf(500101001) > -1;\n    this.editPermission = store.state.user.permissions.indexOf(500101002) > -1;\n    this.delPermission = store.state.user.permissions.indexOf(500101003) > -1;\n    this.getTemplates();\n  },\n  methods: {\n    getTemplates() {\n      templateApi.findAll().then(res => {\n        this.templates = res.data;\n      });\n    },\n    setActive(id, name) {\n      templateApi.setActive({ id: id, name: name }).then(res => {\n        this.$message.success(\"设置成功\");\n        this.getTemplates();\n      });\n    },\n    handleCommand(command) {\n      console.log(command);\n      switch (command.name) {\n        case \"delete\":\n          templateApi.delete(command.id).then(res => {\n            this.$message.success(\"删除成功\");\n            this.getTemplates();\n          });\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.setting-bar {\n  padding-top: 15px;\n  margin-top: 10px;\n  border-top: 1px solid #f0f0f0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=730e038e&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=730e038e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"730e038e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=730e038e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=730e038e&lang=scss&scoped=true&\""],"sourceRoot":""}